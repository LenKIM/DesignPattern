# 바꿔서 재이용하기.

예를 들어 직류 12볼트로 작동하는 노트북을 교류 100볼트의 AC전원에 연결한다고 가정합시다
이때 우리는 AC어탭터라는 장치를 사용합니다. AC어탭터는 가정용 전원으로 제공되고 있는 '교류100볼트'
지금 필요한 '직류 12볼트'로 교환해 줍니다. 제공되고 있는 것과 필요한 것 사이를 연결해주는 것이 어탭터의 역할입니다.

## Adapter 패턴

Adapter 패턴은 Wrapper 패턴으로 불리기도 합니다.
wrapper는 '감싸는 것'이라는 의미입니다.

Adapter 패턴에는 다음과 같이 두 가지 종류.

1. 클래스에 의한 Adapter 패턴(상속을 사용한 Adapter 패턴)
2. 인스턴스에 의한 Adapter 패턴(위임을 사용한 Adapter 패턴)

지금 Banner클래스에는 문자열을 괄호로 묶어서 표시하는 showWithParen 메소드와 문자열 전후에 *를 붙여 표시하는 showWithAster메소드가 준비되어 있습니다.
이 Banner클래스를 교류 100볼트와 같이 '이미 제공되어 있는 것'으로 가정합니다.

한편 Print 인터페이스에서는 문자열을 느긋하게 표시하기 위한 printWeak메소드와
문자열을 강하게 표시하기 위한 printStrong메서드가 선언되어 있다고 가정합니다

지금 하고 싶은 일은 Banner 클래스를 사용해서 Print인터페이스를 충족시키는 클래스를 만드는 것.
즉, 교류 100볼트를 직류 12볼트로 교환해 주는 어탭터를 만드는 일.

PrintBanner 클래스가 어탭터의 역할을 담당합니다 이 클래스는 제공되어 있는 Banner클래스를 상속해서,
필요로 하는 Print 인터페이스를 구현합니다. PrintBanner 클래스는 showWithParen 메소드를 사용해서 printWeak를 구현하고
showWithAster메소드를 사용해서 printStrong를 구현합니다.


-------
이전 01에는 클래스에 의한 Adapter패턴이였다면, 이번에는 인스턴스에 의한 'Adapter 패턴'을 봅시다아.
앞에서는 '상속'을 사용했지만 이번에는 '위임을 사용합니다.
위임이란 딱딱한 표현이지만 요약하면 '누군가에게 맡긴다'라는 의미입니다. 중요한 회의에 출석할 수 없을 때 '나는 출석할 수 없지만, 대신 김영진 씨를 출석시키겠습니다'라는 위임장을 씁니다.
위임이란 이양과 같습니다 JAVA에서 위임은 어떤 메소드의 실제 처리를 다른 인스턴스의 메소드에 맡기는 것을 말합니다.

Main클래스, Banner클래스는 예제 프로그램과 동일합니다
그러나 Print는 인터페이스가 아니라 클래스라고 가정합니다
즉, Banner클래스를 이용해서 Print 클래스와 동일한 메소드를 갖는 클래스를 실현하려는 것입니다.
java에서는 2개의 클래스를 동시에 상속할 수 없기 때문에
PrintBanner클래스를 Print와 Banner 모두의 하위 클래스로 정의할 수 없습니다.

PrintBanner클래스는 banner필드에서 Banner클래스의 인스턴스를 가집니다 이 인스턴스는 PrintBanner 클래스의 생성자에서 생성합니다
그리고 printWeak 및 printStrong 메서드에서는 banner필드를 매개로 showWithParen, showWithAster 메서드를 호출하고 있었지만 이번에는 필드를 경유해서 호출 하고 있습니다
즉 위임을 하고 있습니다

PrintBanner클래스의 PrintWeak메소드가 호출되었을 때 자신이 처리하는 것이 아니라 별도의 인스턴스인 showWithParen메소드에 위임하는 것입니다.


Adapter 패턴에서

Target(대상)의 역할
 지금 필요한 메서드를 결정합니다 노트북을 작동시키기 위한 직류 12볼트에 해당합니다
 예제 프로그램에서는 Print 인터페이스나 Print클래스가 이역할을 합니다

Client(의뢰자)의 역할
Target역할의 메소드를 사용해서 일을 합니다 직류 12볼트로 움직이는 노트북에 해당합니다
예제 프로그램에서는 Main클래스

Adaptee(개조되는 쪽)의 역할
Adapt-er(개조되는 쪽)가 아니라 Adap-ee(개조되는 쪽)입니다. Adaptee는 이미 준비되엉 씨는 메소드를 가지고 있는 역할
예제 프로그램에서너 Banner클래스

Adapter의 역할
예제프로그램에서 PrintBanner클래스

클래스에 의한 Adapter패턴의 경우에는 Adapter의 역할은 '상속'을 사용한 Adaptee의 역할을 이용하지만
인스턴스에 의한 Adapter패턴의 경우에는 '위임'을 사용한 Adaptee의 역할을 이용합니다

#### 어떤 경우에 사용하는 것일까?

Adapter 패턴은 기존의 클래스를 개조해서 필요한 클래스를 만듭니다 이 패턴으로 필요한 메소드를 발빠르게 만들 수 있습니다.
만약 버그가 발생해도 기존의 클래스에는 버그가 없으므로 Adapter역할의 클래스를 중점적으로 조사하면 되고 프로그램 검사도 상당히 쉬워집니다

#### 비록 소스가 없더라도

이미 만들어진 클래스를 새로운 인터페이스에 맞게 개조시킬 때는 당연히 어탭터 패턴을 사용
그러나 실제 우리가 새로운 인터페이스에 맞게 개조시킬 때는 기존 클래스의 소스를 바꾸어서 '수정'하려고 생각합니다.
그러나 그렇게 하면 동작 테스트가 이미 끝난 기존의 클래스를 수정한 후에 다시한번 테스트해야합니다

어탭터 패턴은 기존의 클래스를 전혀 수정하지 않고 목적한 인터페이스에 맞추려는 것입니다 또한 Adapter패턴에서는 기존 클래스의 소스 프로그램이 반드시 필요 X

#### 버전 업과 호환성
